#! /usr/bin/env ruby19

require 'chronic'
require 'pp'
require './lib/snapshot.rb'

if ARGV.delete("--debug")
	NJTMap.log_level = NJTMap::Logger::INFO
end

date_str = ARGV[0] || "now"
date = Chronic.parse(date_str)

snapshot = NJTMap::Snapshot.new(date)
snapshot.positions.each do |vehicle_position| 
	loc = vehicle_position.location_at_time(snapshot.seconds_into_day)
	p loc
end
