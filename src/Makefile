DEBUG=0
PERF_OPTIONS = -O3 -march=x86-64 -mtune=nocona -pipe
BASICS_OPTIONS = -DDEBUG=$(DEBUG)
SQLITE_OPTIONS = -DSQLITE_THREADSAFE=0 -DSQLITE_OMIT_LOAD_EXTENSION -DSQLITE_TEMP_STORE=2 -DSQLITE_DEFAULT_CACHE_SIZE=4000 -DSQLITE_DEFAULT_FOREIGN_KEYS=1 -DSQLITE_DEFAULT_MEMSTATUS=0 -DSQLITE_DEFAULT_PAGE_SIZE=8192 -DSQLITE_DEFAULT_TEMP_CACHE_SIZE=4000 -DSQLITE_THREADSAFE=0 -DSQLITE_TEMP_STORE=2 -DSQLITE_ENABLE_FTS3 -DSQLITE_ENABLE_FTS3_PARENTHESIS -DSQLITE_ENABLE_FTS4 -DSQLITE_ENABLE_RTREE -DSQLITE_ENABLE_STAT3 

njt_pos: basics.o sqlite3.o
	gcc $(PERF_OPTIONS) -o njt_pos -O3 sqlite3.o basics.o
sqlite3.o: sqlite3.c
	gcc $(PERF_OPTIONS) $(SQLITE_OPTIONS) -c -o sqlite3.o sqlite3.c
basics.o: basics.c
	gcc $(PERF_OPTIONS) $(BASICS_OPTIONS) -c -std=gnu99 -o basics.o basics.c
clean:
	rm -rf njt_pos basics.o sqlite3.o
